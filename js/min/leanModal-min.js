!function($){var e=0,o=0,t=function(){return o++,"materialize-lean-overlay-"+o};$.fn.extend({openModal:function(o){var a=$("body"),i=a.innerWidth();a.css("overflow","hidden"),a.width(i);var n={opacity:.5,in_duration:350,out_duration:250,ready:void 0,complete:void 0,dismissible:!0,starting_top:"4%",ending_top:"20%"},c=$(this);if(!c.hasClass("open")){var s=t(),d=$('<div class="lean-overlay"></div>');lStack=++e,d.attr("id",s).css("z-index",1e3+2*lStack),c.data("overlay-id",s).css("z-index",1e3+2*lStack+1),c.addClass("open"),$("body").append(d),o=$.extend(n,o),o.dismissible&&(d.click(function(){c.closeModal(o)}),$(document).on("keyup.leanModal"+s,function(e){27===e.keyCode&&c.closeModal(o)})),c.find(".modal-close").on("click.close",function(e){c.closeModal(o)}),d.css({display:"block",opacity:0}),c.css({display:"block",opacity:0}),d.velocity({opacity:o.opacity},{duration:o.in_duration,queue:!1,ease:"easeOutCubic"}),c.data("associated-overlay",d[0]),c.hasClass("bottom-sheet")?c.velocity({bottom:"0",opacity:1},{duration:o.in_duration,queue:!1,ease:"easeOutCubic",complete:function(){"function"==typeof o.ready&&o.ready()}}):($.Velocity.hook(c,"scaleX",.7),c.css({top:o.starting_top}),c.velocity({top:o.ending_top,opacity:1,scaleX:"1"},{duration:o.in_duration,queue:!1,ease:"easeOutCubic",complete:function(){"function"==typeof o.ready&&o.ready()}}))}}}),$.fn.extend({closeModal:function(o){var t={out_duration:250,complete:void 0},a=$(this),i=a.data("overlay-id"),n=$("#"+i);a.removeClass("open"),o=$.extend(t,o),$("body").css({overflow:"",width:""}),a.find(".modal-close").off("click.close"),$(document).off("keyup.leanModal"+i),n.velocity({opacity:0},{duration:o.out_duration,queue:!1,ease:"easeOutQuart"}),a.hasClass("bottom-sheet")?a.velocity({bottom:"-100%",opacity:0},{duration:o.out_duration,queue:!1,ease:"easeOutCubic",complete:function(){n.css({display:"none"}),"function"==typeof o.complete&&o.complete(),n.remove(),e--}}):a.velocity({top:o.starting_top,opacity:0,scaleX:.7},{duration:o.out_duration,complete:function(){$(this).css("display","none"),"function"==typeof o.complete&&o.complete(),n.remove(),e--}})}}),$.fn.extend({leanModal:function(e){return this.each(function(){var o={starting_top:"4%"},t=$.extend(o,e);$(this).click(function(e){t.starting_top=($(this).offset().top-$(window).scrollTop())/1.15;var o=$(this).attr("href")||"#"+$(this).data("target");$(o).openModal(t),e.preventDefault()})})}})}(jQuery);